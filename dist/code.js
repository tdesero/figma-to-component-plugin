(()=>{"use strict";function n(n){var t=Math.round(255*n).toString(16);return 1==t.length?"0"+t:t}function t(n){return Math.round(255*n)}function e(t){if("object"!=typeof t)return;const{r:e,g:o,b:i,a:r}=t;return r?void 0:"#"+n(e)+n(o)+n(i)}function o({r:n,g:e,b:o},i){return`rgba(${t(n)}, ${t(e)}, ${t(o)}, ${i})`}function i(n){return n.replace(/[^a-z0-9]/g,(function(n){var t=n.charCodeAt(0);return 32==t?"-":t>=65&&t<=90?n.toLowerCase():"-"}))}function r(n){const t=n.layoutGrow?"flex-grow: 1; flex-shrink: 1;":"TEXT"!==n.type&&"AUTO"!==n.primaryAxisSizingMode?"flex-shrink: 0;":"",e="STRETCH"===n.layoutAlign?"align-self: stretch;":"",o={MIN:"start",MAX:"end",CENTER:"center",SPACE_BETWEEN:"space-between"},i={MIN:"flex-start",MAX:"flex-end",CENTER:"center",SPACE_BETWEEN:"space-between"};let r="";return"VERTICAL"===n.layoutMode&&(r=`\n        display: flex;\n        position: relative;\n        flex-direction: column;\n        gap: ${n.itemSpacing}px;\n        align-items: ${o[n.counterAxisAlignItems]};\n        justify-content: ${i[n.primaryAxisAlignItems]};\n      `),"HORIZONTAL"===n.layoutMode&&(r=`\n        display: flex;\n        position: relative;\n        flex-direction: row;\n        gap: ${n.itemSpacing}px;\n        align-items: ${o[n.counterAxisAlignItems]};\n        justify-content: ${i[n.primaryAxisAlignItems]};\n      `),"HORIZONTAL"!==n.parent.layoutMode&&"VERTICAL"!==n.parent.layoutMode||(r+=e+t),r}function l(n){return 1===n.opacity?"":`opacity: ${n.opacity};`}function a(n){const t=n.id===figma.currentPage.selection[0].id?"":`left: ${n.x}px; top: ${n.y}px`;return`\n      position: ${(n=>"GROUP"===n.type?"static":n.id===figma.currentPage.selection[0].id||"NONE"!==n.parent.layoutMode&&n.parent.layoutMode?"relative":`absolute; ${t}`)(n)};\n    `}function d(n){var t,i,r,l,a,d,s,c,u;const f=null===(t=n.fills)||void 0===t?void 0:t[0];if(!f)return"transparent";if(!f.visible)return"transparent";if("GRADIENT_LINEAR"===f.type){const{gradientStops:n}=f,t=function(n){const t=[n[0][0],n[0][1],n[0][2],n[1][0],n[1][1],n[1][2]];var e=Math.atan2(t[1],t[0]),o=Math.pow(t[0],2)+Math.pow(t[1],2),i=Math.sqrt(o),r=(t[0]*t[3]-t[2]*t[1])/i,l=Math.atan2(t[0]*t[2]+t[1]*t[3],o);return{angle:e/(Math.PI/180),scaleX:i,scaleY:r,skewX:l/(Math.PI/180),skewY:0,translateX:t[4],translateY:t[5]}}(f.gradientTransform);console.log(f.gradientTransform);const e=n.map((n=>`${o(n.color,n.color.a)} ${100*n.position}%`));return`linear-gradient(${t.angle+90}deg, ${e.join(",")})`}return(null===(r=null===(i=n.fills)||void 0===i?void 0:i[0])||void 0===r?void 0:r.opacity)<1?o(null===(a=null===(l=n.fills)||void 0===l?void 0:l[0])||void 0===a?void 0:a.color,null===(s=null===(d=n.fills)||void 0===d?void 0:d[0])||void 0===s?void 0:s.opacity):e(null===(u=null===(c=n.fills)||void 0===c?void 0:c[0])||void 0===u?void 0:u.color)}function s(n){return n.rotation&&"GROUP"!==n.type?`\n        transform-origin: 0 0;\n        transform: rotate(${-1*n.rotation}deg);\n      `:""}function c(n){var t,i;return console.log(n),"TEXT"===n.type?`\n      color: ${d(n)};\n      font-size: ${n.fontSize}px;\n      font-family: ${n.fontName.family};\n      text-align: ${null===(t=n.textAlignHorizontal)||void 0===t?void 0:t.toLowerCase()};\n      ${function(n){var t,e,o,i;const r=null===(e=null===(t=n.fontName)||void 0===t?void 0:t.style)||void 0===e?void 0:e.toLowerCase().includes("italic");return`font-weight: ${{thin:100,"extra light":200,extralight:200,light:300,normal:400,regular:400,medium:500,"semi bold":600,semibold:600,bold:700,"extra bold":800,extrabold:800,black:900}[null===(i=null===(o=n.fontName)||void 0===o?void 0:o.style)||void 0===i?void 0:i.toLowerCase().replace("italic","").trim()]}; ${r?"font-style: italic;":""}`}(n)}\n      ${l(n)}\n      ${a(n)}\n      ${r(n)}\n      margin: 0;\n      ${s(n)}\n    `:`\n      box-sizing: border-box;\n      ${n.fillStyleId&&"/*"+(null===(i=figma.getStyleById(n.fillStyleId))||void 0===i?void 0:i.name)+"*/"}\n      background: ${d(n)};\n      ${function(n){return"ELLIPSE"===n.type?"border-radius: 50%;":`border-radius: ${"number"==typeof n.cornerRadius?n.cornerRadius+"px":`${n.topLeftRadius}px ${n.topRightRadius}px ${n.bottomRightRadius}px ${n.bottomLeftRadius}px`};`}(n)}\n      ${function(n){var t;return!n.strokes||!n.strokeWeight||n.strokes.length<1?"":`${n.strokeStyleId&&"/*"+(null===(t=figma.getStyleById(n.strokeStyleId))||void 0===t?void 0:t.name)+"*/"} border: ${n.strokeWeight}px solid ${n.strokes[0].opacity<1?o(n.strokes[0].color,n.strokes[0].opacity):e(n.strokes[0].color)};`}(n)}\n      ${l(n)}\n      ${function(n){return n.paddingTop||n.paddingRight||n.paddingBottom||n.paddingLeft?`padding: ${n.paddingTop}px ${n.paddingRight}px ${n.paddingBottom}px ${n.paddingLeft}px;`:""}(n)}\n      ${r(n)}\n      ${function(n){return"VERTICAL"===n.layoutMode?`\n        height: ${"AUTO"===n.primaryAxisSizingMode?"auto":n.height+"px"};\n        width: ${"AUTO"===n.counterAxisSizingMode?"auto":n.width+"px"};`:"HORIZONTAL"===n.layoutMode?`\n        width: ${"AUTO"===n.primaryAxisSizingMode?"auto":n.width+"px"};\n        height: ${"AUTO"===n.counterAxisSizingMode?"auto":n.height+"px"};`:n.layoutMode&&"NONE"!==n.layoutMode?void 0:`\n      height: ${"TEXT"===n.type?"auto":n.height+"px"};\n      width: ${"TEXT"===n.type?"auto":n.width+"px"};\n    `}(n)}\n      ${a(n)}\n      ${function(n){var t;if(!n.effects||0===n.effects.length)return"";const e=n.effects.filter((n=>"DROP_SHADOW"===n.type));if(0===e.length)return"";let i="box-shadow: ";return e.forEach((n=>{i+=`${n.offset.x}px ${n.offset.y}px ${n.radius}px ${n.spread}px ${o(n.color,n.color.a)}`})),`${n.effectStyleId&&"/*"+(null===(t=figma.getStyleById(n.effectStyleId))||void 0===t?void 0:t.name)+"*/"}`+i+";"}(n)}\n      margin: 0;\n      ${s(n)}\n      ${function(n){return n.clipsContent?"overflow: hidden;":""}(n)}\n    `}const u=function(n){var t;let e="component";const o=[];function r(n,t=0){const e=t>0?t:"";return o.includes(n+e)?r(n,t+1):(o.push(n+e),n+e)}if(0===n.length)return void figma.notify("Nothing selected",{error:!0});if(n.length>1)return void figma.notify("Select only 1 Component",{error:!0});const l=n[0];e=i(l.name);const a={name:e,css:c(l),allChildrenAreVector:h(l),children:[],type:l.type,characters:l.characters,originalNode:l};return(null===(t=l.children)||void 0===t?void 0:t.length)>0&&function n(t,o){t.forEach(((t,l)=>{var a,d;t.visible&&(o.push({name:`${e}__${r(i(t.name))}`,css:c(t),allChildrenAreVector:h(t),children:[],type:t.type,characters:t.characters,originalNode:t}),(null===(a=t.children)||void 0===a?void 0:a.length)>0&&n(t.children,null===(d=o[l])||void 0===d?void 0:d.children))}))}(l.children,a.children),a}(figma.currentPage.selection);function f(n){let t="";return t+=`.${n.name} {${n.css}}\n`,function n(e){e.forEach((e=>{t+=`.${e.name} {${e.css}}\n`,e.children.length>0&&n(e.children)}))}(n.children),t}function g(n){let t="";return"VECTOR"===n.type?t=v(n.originalNode):n.allChildrenAreVector?t=p(n.originalNode,n.name):t+=`<div class="${n.name}">\n${n.characters?n.characters:""} ${function n(t){var e;return(null===(e=t.children)||void 0===e?void 0:e.length)>0?t.children.map((t=>"VECTOR"===t.type?v(t.originalNode):t.allChildrenAreVector?p(t.originalNode,`${t.name}`):`<div class="${t.name}">\n${t.characters?t.characters:""} ${n(t)}\n</div>`)).join(""):""}(n)}\n</div>`,t}function h(n){var t,e,o;return(null===(t=n.children)||void 0===t?void 0:t.length)>0&&(null===(e=n.children)||void 0===e?void 0:e.filter((n=>"VECTOR"===n.type)).length)===(null===(o=n.children)||void 0===o?void 0:o.length)}function v(n){var t,o,i,r,l,a;const d=null===(t=n.vectorPaths)||void 0===t?void 0:t.map((n=>`<path d="${n.data}" />`));return`<svg \n  width="${n.width}" \n  height="${n.height}" \n  stroke-width="${n.strokeWeight}" \n  stroke="${e(null===(i=null===(o=n.strokes)||void 0===o?void 0:o[0])||void 0===i?void 0:i.color)}" \n  fill="${0===(null===(r=n.fills)||void 0===r?void 0:r.length)?"none":e(null===(a=null===(l=n.fills)||void 0===l?void 0:l[0])||void 0===a?void 0:a.color)}" \n  transform="translate(${n.x} ${n.y}) rotate(${-1*n.rotation}, 0, 0)"\n  >\n    ${d.join("")}\n  </svg>`}function p(n,t){var o;const i=null===(o=n.children)||void 0===o?void 0:o.map((n=>{var t;return null===(t=n.vectorPaths)||void 0===t?void 0:t.map((t=>{var o,i,r,l,a;return`<path \n        d="${t.data}"\n        stroke="${e(null===(i=null===(o=n.strokes)||void 0===o?void 0:o[0])||void 0===i?void 0:i.color)}"\n        stroke-width="${n.strokeWeight}"  \n        fill="${0===(null===(r=n.fills)||void 0===r?void 0:r.length)?"none":e(null===(a=null===(l=n.fills)||void 0===l?void 0:l[0])||void 0===a?void 0:a.color)}" \n        transform="translate(${n.x} ${n.y}) rotate(${-1*n.rotation}, 0, 0)" \n      />`})).join("")}));return`<svg \n    class="${t}"\n    width="${n.width}" \n    height="${n.height}" \n    viewBox="0 0 ${n.width} ${n.height}"\n    >\n      ${i.join("")}\n  </svg>`}figma.parameters.on("input",(({parameters:n,key:t,query:e,result:o})=>{if("framework"===t){const n=["react","html"];o.setSuggestions(n.filter((n=>n.includes(e))))}})),figma.on("run",(({command:n,parameters:t})=>{var e,o,i;console.log(n,t),figma.showUI(__html__,{height:800,width:600}),figma.ui.postMessage({css:f(u),html:g(u),framework:t.framework,name:null===(i=null===(o=null===(e=figma.currentPage)||void 0===e?void 0:e.selection)||void 0===o?void 0:o[0])||void 0===i?void 0:i.name})}))})();